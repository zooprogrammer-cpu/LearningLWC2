<!DOCTYPE html>
<html>
    <title>Async Await</title>
    <body id="body">
        <div><button id="start">Start</button></div>
        <a href="https://www.google.com" id="link">Google</a>
      
    </body>
    <script>
        const posts =[
        {title: 'Post One', body: 'This is Post One'},
        {title: 'Post Two', body: 'This is Post Two'}
        ]

        function getPosts(){
            setTimeout(()=>{
                let output = ''; 
                posts.forEach((post)=>{
                    output += `<li>${post.title}${post.body}</li>`
                });
                document.body.innerHTML = output; 
            },1000)
        }

        function createPost(post){
          return new Promise((resolve,reject)=>{
            setTimeout(()=>{
                posts.push(post)
                const error = false
                if(!error){
                    resolve()
                }
                else {
                    reject('Error: Something went wrong')
                }
            },2000)    
          })
        }

        //Async Await
        async function init(){
            try{
                await createPost({title:'Post Three', body:'Thi sis post three'})

            }
            catch(error){
                console.log(`There is a problem)`, error)
            }

            getPosts()
        }

        init()



    </script>
</html>